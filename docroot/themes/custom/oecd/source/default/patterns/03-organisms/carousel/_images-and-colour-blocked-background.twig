{#
/**
 * @file
 * carousel
 *
 * See carousel.space.yaml for documentation.
 */
#}

{{ attach_library('oecd/slider') }}
{{ attach_library('oecd/hero-banner-carousel') }}

{# Animation #}
{% if animation['group_animation']['field_animation']|render|striptags|trim == '' or animation['group_animation']['field_animation']|render|striptags|trim == 'Off' %}
  {% set carousel_animation = '' %}
{% else %}
  {% set carousel_animation = 'animation' %}
{% endif %}

{# Headline Animation #}
{% set title_animation = animation['group_animation']['field_on_scroll_animation']|render|striptags|trim == '' ? 'none' : animation['group_animation']['field_on_scroll_animation']|render|striptags|trim %}

{# Button/Link Animation #}
{% set button_animation = animation['group_animation']['field_on_scroll_animation_descri']|render|striptags|trim == '' ? 'none' : animation['group_animation']['field_on_scroll_animation_descri']|render|striptags|trim %}

{# Background Image Animation #}
{% set image_animation = animation['group_animation']['field_himage_on_scroll_animation']|render|striptags|trim == '' ? 'none' : animation['group_animation']['field_himage_on_scroll_animation']|render|striptags|trim %}

{# button Animation #}
{% set bg_image_animation = animation['group_animation']['field_hcarousel_item_animation']|render|striptags|trim == '' ? 'none' : animation['group_animation']['field_hcarousel_item_animation']|render|striptags|trim %}

{# Template #}
{% block carousel_image_colour_blocked_background_block %}
  <div class="carousel-wrapper images-and-colour-blocked-background-wrapper relative ga-images-and-colour-blocked-background-carousel ga_space_component">
    <div class="container h-full mx-auto carousel {{ carousel_animation }}">
      <div class="item-images-and-colour-blocked-background grid grid-cols-1 md:grid-cols-12 gap-y-48 md:gap-x-8">
        <div class="overlapped-data">
          {% if title|render|striptags|trim is not empty %}
            {% block title %}
              <div class="image-color-blocked-background-title {{ title_animation }}">
                {{ title }}
              </div>
            {% endblock %}
          {% endif %}

          {% if button_1|render|striptags|trim is not empty %}
            <div class="cta-button flex flex-col md:flex-row md:justify-start {{ button_animation }}">
              <div{{ region_attributes.button_1|default(create_attribute()).addClass('mb-3 md:mb-0 md:mr-3').setAttribute('tabindex', '0') }}>{{ button_1 }}</div>
            </div>
          {% endif %}
        </div>

        <div class="data-col md:col-span-4 image-1 {{ image_animation }}">
          {{ items }}
        </div>

        <div class="bg-image-col bg-image hidden md:block md:col-span-6 md:col-start-7">
          {% if background_image|render|trim is not empty %}
            <div class="backgroundImage w-full h-full absolute top-0 left-0 {{ bg_image_animation }}" tabindex='0'>
              {{ background_image }}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
